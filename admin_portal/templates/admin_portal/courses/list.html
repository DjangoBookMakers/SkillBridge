{% extends 'base.html' %} {% block title %}과정 관리 | 스킬브릿지{% endblock %}
{% block content %}
<div class="flex h-screen bg-gray-100">
  <!-- 사이드바 -->
  <div class="w-64 bg-white shadow-md">
    <div class="p-6 border-b">
      <h2 class="text-xl font-bold text-gray-800">관리자 포털</h2>
    </div>
    <nav class="mt-4">
      <ul>
        <!-- 대시보드 -->
        <li class="mb-1">
          <a
            href="{% url 'admin_dashboard' %}"
            class="block px-6 py-3 text-gray-700 hover:bg-gray-50"
          >
            <i class="fas fa-tachometer-alt mr-2"></i>대시보드
          </a>
        </li>

        <!-- 과정 관리 -->
        <li class="mb-1">
          <a
            href="{% url 'course_list' %}"
            class="block px-6 py-3 bg-indigo-50 text-indigo-700"
          >
            <i class="fas fa-graduation-cap mr-2"></i>과정 관리
          </a>
        </li>

        <!-- 추가 메뉴 -->
        <li class="mb-1">
          <a href="#" class="block px-6 py-3 text-gray-700 hover:bg-gray-50">
            <i class="fas fa-users mr-2"></i>사용자 관리
          </a>
        </li>

        <li class="mb-1">
          <a href="#" class="block px-6 py-3 text-gray-700 hover:bg-gray-50">
            <i class="fas fa-chart-bar mr-2"></i>통계
          </a>
        </li>

        <li class="mb-1">
          <a href="#" class="block px-6 py-3 text-gray-700 hover:bg-gray-50">
            <i class="fas fa-cog mr-2"></i>설정
          </a>
        </li>
      </ul>
    </nav>
  </div>

  <!-- 메인 컨텐츠 -->
  <div class="flex-1 overflow-y-auto">
    <!-- 상단 네비게이션 -->
    <header class="bg-white shadow-sm">
      <div class="flex justify-between items-center px-6 py-4">
        <!-- 현재 위치 표시 -->
        <div class="flex items-center">
          <h1 class="text-lg font-semibold text-gray-800">과정 관리</h1>
        </div>

        <!-- 사용자 정보 -->
        <div class="flex items-center">
          <span class="mr-4 text-gray-700">{{ request.user.username }}</span>
          <a
            href="{% url 'accounts:logout' %}"
            class="text-sm text-red-600 hover:text-red-800"
            >로그아웃</a
          >
        </div>
      </div>
    </header>

    <!-- 메인 컨텐츠 영역 -->
    <main class="p-6">
      <!-- 과정 목록 -->
      <div class="bg-white rounded-lg shadow-md p-6 mb-6">
        <div class="flex justify-between items-center mb-6">
          <h2 class="text-lg font-semibold text-gray-800">과정 목록</h2>
          <a
            href="{% url 'course_create' %}"
            class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium"
          >
            <i class="fas fa-plus mr-2"></i>신규 과정 등록
          </a>
        </div>

        {% if courses %}
        <div class="overflow-x-auto">
          <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-50">
              <tr>
                <th
                  scope="col"
                  class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                >
                  제목
                </th>
                <th
                  scope="col"
                  class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                >
                  난이도
                </th>
                <th
                  scope="col"
                  class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                >
                  가격
                </th>
                <th
                  scope="col"
                  class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                >
                  등록일
                </th>
                <th
                  scope="col"
                  class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                >
                  관리
                </th>
              </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
              {% for course in courses %}
              <tr>
                <td class="px-6 py-4 whitespace-nowrap">
                  <div class="text-sm font-medium text-gray-900">
                    {{ course.title }}
                  </div>
                </td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span
                    class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"
                  >
                    {{ course.get_difficulty_level_display }}
                  </span>
                </td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <div class="text-sm text-gray-900">
                    {{ course.price|floatformat:0 }}원
                  </div>
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                  {{ course.created_at|date:"Y-m-d" }}
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                  <a
                    href="{% url 'course_detail' course.id %}"
                    class="text-indigo-600 hover:text-indigo-900 mr-2"
                    >상세</a
                  >
                  <a
                    href="{% url 'course_edit' course.id %}"
                    class="text-blue-600 hover:text-blue-900 mr-2"
                    >수정</a
                  >
                  <a
                    href="{% url 'course_delete' course.id %}"
                    class="text-red-600 hover:text-red-900 mr-2"
                    >삭제</a
                  >
                  <a
                    href="{% url 'subject_list' course.id %}"
                    class="text-green-600 hover:text-green-900"
                    >과목 관리</a
                  >
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>

        <!-- 페이지네이션 -->
        {% if courses.has_other_pages %}
        <div class="flex justify-center mt-6">
          <ul class="inline-flex">
            {% if courses.has_previous %}
            <li>
              <a
                href="?page={{ courses.previous_page_number }}"
                class="px-3 py-2 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700"
                >이전</a
              >
            </li>
            {% endif %} {% for num in courses.paginator.page_range %} {% if
            courses.number == num %}
            <li>
              <span
                class="px-3 py-2 text-blue-600 border border-gray-300 bg-blue-50 hover:bg-blue-100 hover:text-blue-700"
                >{{ num }}</span
              >
            </li>
            {% else %}
            <li>
              <a
                href="?page={{ num }}"
                class="px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700"
                >{{ num }}</a
              >
            </li>
            {% endif %} {% endfor %} {% if courses.has_next %}
            <li>
              <a
                href="?page={{ courses.next_page_number }}"
                class="px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700"
                >다음</a
              >
            </li>
            {% endif %}
          </ul>
        </div>
        {% endif %} {% else %}
        <p class="text-gray-500 text-center py-4">등록된 과정이 없습니다.</p>
        {% endif %}
      </div>
    </main>
  </div>
</div>
{% endblock %} {% block extra_css %}
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
/>
{% endblock %}
